"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.retrieveIndexes=void 0;var _retrieveFile=require("./retrieveFile"),_retrieveRecord=require("./retrieveRecord"),__awaiter=function(e,r,t,n){return new(t||(t=Promise))((function(i,o){function v(e){try{d(n.next(e))}catch(e){o(e)}}function c(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(v,c)}d((n=n.apply(e,r||[])).next())}))};const retrieveIndexes=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return __awaiter(void 0,[...r],void 0,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){t.hasOwnProperty(e)||(t[e]=yield(0,_retrieveRecord.retrieveRecord)(e));const n={};for(let i of r)for(let r of t[e].keys)r.fields.includes(i)&&(n[i]=yield(0,_retrieveFile.retrieveFile)(`__indexes/${e}/${r.lookup}`));return n}()}))};exports.retrieveIndexes=retrieveIndexes;