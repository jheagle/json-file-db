"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.retrieveRecords=void 0;var _retrieveFile=require("./retrieveFile"),_retrieveRecord=require("./retrieveRecord"),__awaiter=function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function c(e){try{v(o.next(e))}catch(e){n(e)}}function u(e){try{v(o.throw(e))}catch(e){n(e)}}function v(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(c,u)}v((o=o.apply(e,r||[])).next())}))};const retrieveRecords=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return __awaiter(void 0,[...r],void 0,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function*(){const r=yield(0,_retrieveRecord.retrieveRecord)(e),t=[];for(let e of r.entries){const o=yield(0,_retrieveFile.retrieveFile)(`${r.path}/${e}`).catch((e=>console.error(e)));if(!o)throw new Error(`Could not read entity ${e}`);t.push(o)}return t}()}))};exports.retrieveRecords=retrieveRecords;