"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMatchingIndexes=void 0;var _retrieveIndexes=require("./retrieveIndexes"),__awaiter=function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,s)}u((r=r.apply(e,n||[])).next())}))};const getMatchingIndexes=function(e,n,t,r,i,o){for(var c=arguments.length,s=new Array(c>6?c-6:0),u=6;u<c;u++)s[u-6]=arguments[u];return __awaiter(void 0,[e,n,t,r,i,o,...s],void 0,(function(e,n,t,r,i,o){let c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return function*(){let s=!1;for(let u of t[e].keys)u.fields.includes(n)&&(i[e]=[],o.hasOwnProperty(e)||(o[e]={}),o[e].hasOwnProperty(n)||(o[e][n]=(yield(0,_retrieveIndexes.retrieveIndexes)(e,[n],t))[n]),"function"==typeof c&&(yield c(e,n,t,r,i,o)),s=!0);return s}()}))};exports.getMatchingIndexes=getMatchingIndexes;