"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.key=void 0,require("core-js/modules/esnext.async-iterator.map.js"),require("core-js/modules/esnext.iterator.map.js");var _keyReference=require("./keyReference");const key=function(){let{type:e="index",fields:r=[],lookup:t="",references:n=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(e){case"primary":case"index":case"unique":n=[];break;case"multi":if(r.length<2)throw new Error("Multi key indicated with less than two fields");break;case"foreign":if(n.length<1)throw new Error("Foreign key must have one reference to an external record");break;default:throw new Error("Unrecognized key type; must be index, primary, unique, multi, or foreign")}const o={type:e,fields:r,lookup:t};return void 0!==n&&n.length>0&&(o.references=n.map(_keyReference.keyReference)),o};exports.key=key;